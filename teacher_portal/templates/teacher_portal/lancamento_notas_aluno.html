<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notas: {{ aluno.nome_completo }}</title>
    <style>
        body { font-family: sans-serif; background-color: #f4f4f4; margin: 0; padding: 0; }
        .header { background: #333; color: white; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { margin: 0; font-size: 1.5rem; }
        .header-nav { display: flex; gap: 1rem; }
        .nav-link { color: #fff; text-decoration: none; background: #555; padding: 0.5rem 1rem; border-radius: 4px; font-weight: bold; }

        .container { max-width: 900px; margin: 2rem auto; padding: 2rem; background: #fff; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.05); }

        .form-notas { max-width: 600px; }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; font-weight: bold; margin-bottom: 0.5rem; font-size: 1.1rem; }
        .form-group input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 1rem; }

        .button-row { display: flex; gap: 1rem; margin-top: 2rem; }
        .button { padding: 12px 20px; border: none; border-radius: 4px; cursor: pointer; font-size: 16px; font-weight: bold; text-decoration: none; }
        .button-primary { background: #337ab7; color: white; }
        .button-primary:hover { background: #286090; }
        .button-secondary { background: #6c757d; color: white; }
        .button-secondary:hover { background: #5a6268; }
    </style>
</head>
<body>

    <div class="header">
        <a href="{% url 'teacher_portal:lancamento_notas' turma.id %}" class="nav-link">&larr; Voltar para a Turma</a>
        <h1>Lançando Notas</h1>
    </div>

    <div class="container">
        <h3>Aluno: <strong>{{ aluno.nome_completo }}</strong></h3>

        <form method="POST" class="form-notas">
            {% csrf_token %}

            {% for item in competencias_com_notas %}
                <div class="form-group">
                    <label for="nota-{{ item.competencia.id }}">{{ item.competencia.nome }}</label>
                    
                    <input type="text" 
                           name="nota-{{ item.competencia.id }}" 
                           id="nota-{{ item.competencia.id }}"
                           
                           value="{{ item.nota_valor }}" 
                           
                           placeholder="Digite a nota (Ex: {{ item.competencia.get_tipo_nota_display }})">
                </div>
            {% endfor %}

            <div class="button-row">
                <button type="submit" name="acao" value="salvar_proximo" class="button button-primary">
                    Salvar e Próximo &rarr;
                </button>
                <button type="submit" name="acao" value="salvar_voltar" class="button button-secondary">
                    Salvar e Voltar
                </button>
            </div>
        </form>
    </div>

</body>
</html>